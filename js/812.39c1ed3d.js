"use strict";(self["webpackChunkerp"]=self["webpackChunkerp"]||[]).push([[812],{8812:function(e,t,l){l.r(t),l.d(t,{default:function(){return U}});var a=l(6252),o=l(3577);const s=e=>((0,a.dD)("data-v-089d3baa"),e=e(),(0,a.Cn)(),e),d={class:"index-wrapper"},i={class:"search-wrapper"},n={class:"search-item"},r=s((()=>(0,a._)("div",{class:"search-item-lable"},"模型状态",-1))),p=(0,a.Uk)("搜索"),u=(0,a.Uk)("创建模型"),c=(0,a.Uk)("查看详情"),m=(0,a.Uk)("停用"),h=(0,a.Uk)("编辑"),g={class:"dialog-content"},M={class:"left-view"},w={class:"right-view"},v={class:"title"},P={class:"title-item"},b={class:"title-item"},W={class:"title-item"},_=s((()=>(0,a._)("div",{class:"desc"},"确定停用此任务吗？",-1))),k={class:"dialog-footer"},y=(0,a.Uk)("取消"),f=(0,a.Uk)("确认");function C(e,t,l,s,C,F){const z=(0,a.up)("el-input"),S=(0,a.up)("el-option"),T=(0,a.up)("el-select"),U=(0,a.up)("el-button"),L=(0,a.up)("el-table-column"),V=(0,a.up)("el-table"),N=(0,a.up)("el-pagination"),x=(0,a.up)("el-tab-pane"),D=(0,a.up)("el-tabs"),$=(0,a.up)("WarningFilled"),I=(0,a.up)("el-icon"),j=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",i,[(0,a.Wm)(z,{modelValue:C.plantModelForm.keyWords,"onUpdate:modelValue":t[0]||(t[0]=e=>C.plantModelForm.keyWords=e),class:"search-input",placeholder:"请输入作物种类/作物品种"},null,8,["modelValue"]),(0,a._)("div",n,[r,(0,a.Wm)(T,{modelValue:C.plantModelForm.status,"onUpdate:modelValue":t[1]||(t[1]=e=>C.plantModelForm.status=e),class:"search-select",placeholder:"请选择"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.statusList,(e=>((0,a.wg)(),(0,a.j4)(S,{label:e.label,value:e.value,key:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(U,{type:"primary"},{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(U,{type:"primary",icon:"CirclePlus",onClick:F.addPlantModel},{default:(0,a.w5)((()=>[u])),_:1},8,["onClick"])])]),(0,a.Wm)(D,{modelValue:C.activeName,"onUpdate:modelValue":t[4]||(t[4]=e=>C.activeName=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{label:"植物模型列表",name:"plantModelTab"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{data:C.plantModelList,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{type:"index"}),(0,a.Wm)(L,{label:"植物种类",prop:"categoryTitle",width:"120"}),(0,a.Wm)(L,{label:"植物品种",prop:"varietyTitle",width:"150"}),(0,a.Wm)(L,{label:"栽培方式",width:"120"},{default:(0,a.w5)((e=>[(0,a.Uk)((0,o.zw)(e.row.growthName),1)])),_:1}),(0,a.Wm)(L,{label:"模型状态",prop:"stateText",width:"120"}),(0,a.Wm)(L,{label:"创建人",prop:"createName",width:"180"}),(0,a.Wm)(L,{label:"操作时间",prop:"updateTime",width:"180"}),(0,a.Wm)(L,{label:"操作",width:"300"},{default:(0,a.w5)((e=>[(0,a.Wm)(U,{type:"text",size:"small"},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(U,{type:"text",size:"small",onClick:t=>F.openStopDialog(e.row)},{default:(0,a.w5)((()=>[m])),_:2},1032,["onClick"]),(0,a.Wm)(U,{type:"text",size:"small"},{default:(0,a.w5)((()=>[h])),_:1})])),_:1})])),_:1},8,["data"]),(0,a.Wm)(N,{class:"pagination",currentPage:C.plantModelForm.currentPage,"onUpdate:currentPage":t[2]||(t[2]=e=>C.plantModelForm.currentPage=e),"page-size":C.plantModelForm.pageSize,"onUpdate:page-size":t[3]||(t[3]=e=>C.plantModelForm.pageSize=e),"page-sizes":[10,20,30,40],background:"",layout:"total, prev, pager, next, sizes, jumper",total:C.plantModelForm.total,onSizeChange:F.handleSizeChange,onCurrentChange:F.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(j,{modelValue:C.visibleForStop,"onUpdate:modelValue":t[5]||(t[5]=e=>C.visibleForStop=e),title:"停用",width:"40%"},{footer:(0,a.w5)((()=>[(0,a._)("span",k,[(0,a.Wm)(U,{onClick:F.closeStopDialog},{default:(0,a.w5)((()=>[y])),_:1},8,["onClick"]),(0,a.Wm)(U,{type:"primary",onClick:F.stopPlantModel},{default:(0,a.w5)((()=>[f])),_:1},8,["onClick"])])])),default:(0,a.w5)((()=>[(0,a._)("div",g,[(0,a._)("div",M,[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a.Wm)($)])),_:1})]),(0,a._)("div",w,[(0,a._)("div",v,[(0,a._)("span",P,"植物种类："+(0,o.zw)(C.selectedPlantModel&&C.selectedPlantModel.categoryTitle),1),(0,a._)("span",b,"植物品种："+(0,o.zw)(C.selectedPlantModel&&C.selectedPlantModel.varietyTitle),1),(0,a._)("span",W,"栽培方式："+(0,o.zw)(C.selectedPlantModel&&C.selectedPlantModel.growthName),1)]),_])])])),_:1},8,["modelValue"])])}var F=l(512),z={name:"PlantModel",data(){return{activeName:"plantModelTab",statusList:[{label:"全部",value:-1},{label:"正常",value:0},{label:"停用",value:1}],plantModelList:[],plantModelForm:{keyWords:"",status:-1,currentPage:1,pageSize:10,total:0},visibleForStop:!1,selectedPlantModel:null}},mounted(){this.getPlantModelList()},methods:{getPlantModelList(){const e={pageNum:this.plantModelForm.currentPage,pageSize:this.plantModelForm.pageSize,param:{id:0,keyWord:this.plantModelForm.keyWords,state:this.plantModelForm.status}};return(0,F.GZ)(e).then((e=>{this.plantModelForm.total=e.total||0,e&&e.data?this.plantModelList=e.data.map((e=>{const t=this.statusList.find((t=>t.value===e.state));return e.stateText=t&&t.label,e})):this.plantModelList=[]}))},stopPlantModel(){const e={categoryTitle:this.selectedPlantModel.categoryTitle,createName:this.selectedPlantModel.createName,growthId:this.selectedPlantModel.growthId,growthName:this.selectedPlantModel.growthName,id:this.selectedPlantModel.id,state:this.selectedPlantModel.state,updateTime:this.selectedPlantModel.updateTime,varietyTitle:this.selectedPlantModel.varietyTitle};return(0,F.$w)(e).then((e=>{e&&"200"===e.code?(this.$message.success("操作成功"),this.closeStopDialog(),this.getPlantModelList()):this.$message.error(e.message||"操作失败")}))},handleSizeChange(){this.plantModelForm.currentPage=1,this.getPlantModelList()},handleCurrentChange(){this.getPlantModelList()},openStopDialog(e){this.selectedPlantModel=e,this.visibleForStop=!0},closeStopDialog(){this.visibleForStop=!1,this.selectedPlantModel=null},addPlantModel(){this.$router.push("/add")}}},S=l(3744);const T=(0,S.Z)(z,[["render",C],["__scopeId","data-v-089d3baa"]]);var U=T}}]);
//# sourceMappingURL=812.39c1ed3d.js.map