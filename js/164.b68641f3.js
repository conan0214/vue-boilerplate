"use strict";(self["webpackChunkerp"]=self["webpackChunkerp"]||[]).push([[164],{1164:function(e,l,a){a.r(l),a.d(l,{default:function(){return Re}});var i=a(6252),t=a(3577);const s={class:"add-plant-model-wrapper"},o=(0,i._)("span",{class:"btn-back"},"返回",-1),d=(0,i._)("span",{class:"title"},"创建植物模型",-1),r={class:"content"},u={class:"section"},m={class:"section-title"},n=(0,i._)("div",{class:"left-view"},[(0,i.Uk)(" 植物生长模型 "),(0,i._)("span",{class:"tips"},"模型支持左右移动")],-1),c={class:"right-view"},g=(0,i.Uk)("添加"),w={class:"card-list"},p=["onClick"],h={class:"card-header"},v={class:"card-header-title"},_={class:"left-view"},f={class:"right-view"},G={class:"card-header-img"},b={class:"card-table"},F=(0,i._)("div",{class:"card-table-row"},[(0,i._)("div",{class:"left-view"},"参数名"),(0,i._)("div",{class:"right-view"},"参数值")],-1),k={class:"left-view"},W={class:"right-view"},C={class:"section"},V={class:"section-title"},D=(0,i._)("div",{class:"left-view"},[(0,i.Uk)(" 种植参考建议 "),(0,i._)("span",{class:"tips"},"模型支持上下移动")],-1),y={class:"right-view"},U=(0,i.Uk)("添加"),L={class:"btn"},S={class:"section"},x={class:"section-title"},P=(0,i._)("div",{class:"left-view"},"农事操作指导",-1),M={class:"right-view"},I=(0,i.Uk)("添加"),N={class:"guide-list"},B=(0,i._)("div",{class:"btn-play"},null,-1),T={class:"btns"},$={class:"title"},z={class:"desc-div"},A={class:"section"},Y={class:"section-title"},H=(0,i._)("div",{class:"left-view"},"病虫害防治",-1),K={class:"right-view"},R=(0,i.Uk)("添加"),j={class:"guide-list"},q={class:"guide-item-img"},E=(0,i._)("div",{class:"btn-play"},null,-1),O={class:"btns"},X=(0,i._)("div",{class:"title"},"通风降温",-1),Z=(0,i._)("div",{class:"desc-div"},null,-1),J={class:"dialog-body"},Q=(0,i.Uk)(" 添加参考图 "),ee={class:"standard-list"},le={class:"standard-item-content"},ae=(0,i._)("div",{class:"label"},"参数名：",-1),ie={class:"standard-item-content"},te=(0,i._)("div",{class:"label"},"参考值：",-1),se=(0,i._)("span",{class:"line"},"-",-1),oe={class:"standard-item-content"},de={class:"dialog-footer"},re=(0,i.Uk)("取消"),ue=(0,i.Uk)("保存"),me={class:"dialog-content"},ne={class:"left-view"},ce=(0,i._)("div",{class:"right-view"},[(0,i._)("div",{class:"title"},[(0,i._)("span",{class:"title-item"},"阶段一：播种到萌芽")]),(0,i._)("div",{class:"desc"},"确定删除此生长阶段吗？")],-1),ge={class:"dialog-footer"},we=(0,i.Uk)("取消"),pe=(0,i.Uk)("确认"),he={class:"dialog-body"},ve={class:"card-table"},_e=(0,i._)("div",{class:"card-table-row"},[(0,i._)("div",{class:"left-view"},"参数名"),(0,i._)("div",{class:"right-view"},"选择实际偏离")],-1),fe={class:"left-view"},Ge={class:"right-view"},be=(0,i._)("span",null,"偏低",-1),Fe=(0,i._)("span",{class:"icon-low"},null,-1),ke=(0,i._)("span",null,"正常",-1),We=(0,i._)("span",{class:"icon-normal"},null,-1),Ce=(0,i._)("span",null,"偏高",-1),Ve=(0,i._)("span",{class:"icon-high"},null,-1),De={class:"dialog-footer"},ye=(0,i.Uk)("取消"),Ue=(0,i.Uk)("保存"),Le={class:"dialog-body"},Se=(0,i.Uk)(" 点击上传视频 "),xe={class:"dialog-footer"},Pe=(0,i.Uk)("取消"),Me=(0,i.Uk)("保存"),Ie={class:"dialog-body"},Ne=(0,i.Uk)(" 点击上传视频 "),Be={class:"dialog-footer"},Te=(0,i.Uk)("取消"),$e=(0,i.Uk)("保存");function ze(e,l,a,ze,Ae,Ye){const He=(0,i.up)("el-page-header"),Ke=(0,i.up)("el-input"),Re=(0,i.up)("el-form-item"),je=(0,i.up)("el-option"),qe=(0,i.up)("el-select"),Ee=(0,i.up)("el-form"),Oe=(0,i.up)("el-button"),Xe=(0,i.up)("Edit"),Ze=(0,i.up)("el-icon"),Je=(0,i.up)("Delete"),Qe=(0,i.up)("el-image"),el=(0,i.up)("el-table-column"),ll=(0,i.up)("el-table"),al=(0,i.up)("Camera"),il=(0,i.up)("el-upload"),tl=(0,i.up)("el-input-number"),sl=(0,i.up)("Plus"),ol=(0,i.up)("Minus"),dl=(0,i.up)("el-dialog"),rl=(0,i.up)("WarningFilled");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(He,{onBack:Ye.goBack},{title:(0,i.w5)((()=>[o])),content:(0,i.w5)((()=>[d])),_:1},8,["onBack"]),(0,i._)("div",r,[(0,i.Wm)(Ee,{inline:!0,model:Ae.form,class:"form"},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{label:"种植类型"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.form.categoryTitle,"onUpdate:modelValue":l[0]||(l[0]=e=>Ae.form.categoryTitle=e),placeholder:"请输入种植类型"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Re,{label:"种植品种"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.form.varietyTitle,"onUpdate:modelValue":l[1]||(l[1]=e=>Ae.form.varietyTitle=e),placeholder:"请输入种植品种"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Re,{label:"培育方式"},{default:(0,i.w5)((()=>[(0,i.Wm)(qe,{modelValue:Ae.form.growthId,"onUpdate:modelValue":l[2]||(l[2]=e=>Ae.form.growthId=e),placeholder:"请选择培育方式"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ae.growthTypeList,(e=>((0,i.wg)(),(0,i.j4)(je,{label:e.title,value:e.id,key:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,i._)("div",u,[(0,i._)("div",m,[n,(0,i._)("div",c,[(0,i.Wm)(Oe,{plain:"",type:"primary",icon:"CirclePlus",onClick:l[3]||(l[3]=e=>Ye.openAddGrowthStageDialog(null))},{default:(0,i.w5)((()=>[g])),_:1})])]),(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ae.growthStageList,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,t.C_)(["card-item",{"card-item-active":l===Ae.selectedGrowthStageIndex}]),key:l,onClick:e=>Ye.selectGrowthStage(l)},[(0,i._)("div",h,[(0,i._)("div",v,[(0,i._)("div",_,"阶段"+(0,t.zw)(l+1)+"："+(0,t.zw)(e.phaseName),1),(0,i._)("div",f,[(0,i.Wm)(Ze,{class:"icon",onClick:l=>Ye.openAddGrowthStageDialog(e,l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Xe)])),_:2},1032,["onClick"]),(0,i.Wm)(Ze,{class:"icon",onClick:e=>Ye.delGrowthStage(l,e)},{default:(0,i.w5)((()=>[(0,i.Wm)(Je)])),_:2},1032,["onClick"])])]),(0,i._)("div",G,[(0,i.Wm)(Qe,{class:"img",src:e.image,fit:"cover"},null,8,["src"])])]),(0,i._)("div",b,[F,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.growPlantModelDetailBos,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"card-table-row",key:l},[(0,i._)("div",k,(0,t.zw)(e.parameterName),1),(0,i._)("div",W,(0,t.zw)(e.leastValue)+"-"+(0,t.zw)(e.maxValue)+(0,t.zw)(e.unit),1)])))),128))])],10,p)))),128))])]),(0,i._)("div",C,[(0,i._)("div",V,[D,(0,i._)("div",y,[(0,i.Wm)(Oe,{plain:"",type:"primary",icon:"CirclePlus",onClick:l[4]||(l[4]=e=>Ye.openPlantSuggestion(null))},{default:(0,i.w5)((()=>[U])),_:1})])]),(0,i.Wm)(ll,{class:"section-table",data:Ye.tableData},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ye.tableData,((e,l)=>((0,i.wg)(),(0,i.j4)(el,{key:l,label:e.parameterName,width:"120"},{default:(0,i.w5)((e=>[(0,i._)("span",null,(0,t.zw)(e.row.status),1)])),_:2},1032,["label"])))),128)),(0,i.Wm)(el,{label:"操作"},{default:(0,i.w5)((e=>[(0,i._)("div",L,[(0,i.Wm)(Ze,{class:"icon",onClick:l=>Ye.openPlantSuggestion(e.row)},{default:(0,i.w5)((()=>[(0,i.Wm)(Xe)])),_:2},1032,["onClick"]),(0,i.Wm)(Ze,{class:"icon",onClick:l=>Ye.delPlantSuggestion(e.$index)},{default:(0,i.w5)((()=>[(0,i.Wm)(Je)])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])]),(0,i._)("div",S,[(0,i._)("div",x,[P,(0,i._)("div",M,[(0,i.Wm)(Oe,{plain:"",type:"primary",icon:"CirclePlus",onClick:Ye.openFarmGuideDialog},{default:(0,i.w5)((()=>[I])),_:1},8,["onClick"])])]),(0,i._)("div",N,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ae.farmGuideList,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"guide-item",key:l},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.imgList,(a=>((0,i.wg)(),(0,i.iD)("div",{class:"guide-item-img",key:a.url},[(0,i.Wm)(Qe,{class:"img",src:a.url,fit:"cover"},null,8,["src"]),B,(0,i._)("div",T,[(0,i.Wm)(Ze,{class:"icon",onClick:l=>Ye.openFarmGuideDialog(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(Xe)])),_:2},1032,["onClick"]),(0,i.Wm)(Ze,{class:"icon",onClick:e=>Ye.delFarmGuide(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Je)])),_:2},1032,["onClick"])])])))),128)),(0,i._)("div",$,(0,t.zw)(e.title),1),(0,i._)("div",z,(0,t.zw)(e.text),1)])))),128))])]),(0,i._)("div",A,[(0,i._)("div",Y,[H,(0,i._)("div",K,[(0,i.Wm)(Oe,{plain:"",type:"primary",icon:"CirclePlus",onClick:Ye.openCureGuideDialog},{default:(0,i.w5)((()=>[R])),_:1},8,["onClick"])])]),(0,i._)("div",j,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ae.cureGuideList,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"guide-item",key:l},[(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.imgList,(e=>((0,i.wg)(),(0,i.j4)(Qe,{class:"img",src:e.url,fit:"cover",key:e.url},null,8,["src"])))),128)),E,(0,i._)("div",O,[(0,i.Wm)(Ze,{class:"icon",onClick:l=>Ye.openCureGuideDialog(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(Xe)])),_:2},1032,["onClick"]),(0,i.Wm)(Ze,{class:"icon",onClick:e=>Ye.delCureGuide(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(Je)])),_:2},1032,["onClick"])])]),X,Z])))),128))])])]),(0,i.Wm)(dl,{modelValue:Ae.visibleForModel,"onUpdate:modelValue":l[7]||(l[7]=e=>Ae.visibleForModel=e),title:"添加生长阶段",width:"50%",onClose:Ye.closeAddGrowthStageDialog},{footer:(0,i.w5)((()=>[(0,i._)("span",de,[(0,i.Wm)(Oe,{onClick:Ye.closeAddGrowthStageDialog},{default:(0,i.w5)((()=>[re])),_:1},8,["onClick"]),(0,i.Wm)(Oe,{type:"primary",onClick:Ye.saveGrowthStage},{default:(0,i.w5)((()=>[ue])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i._)("div",J,[(0,i.Wm)(Ee,{model:Ae.modelForm,"label-width":"80px","label-suffix":":"},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{label:"阶段名称"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.modelForm.phaseName,"onUpdate:modelValue":l[5]||(l[5]=e=>Ae.modelForm.phaseName=e),clearable:"",placeholder:"请输入阶段名称",maxlength:64},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Re,{label:"参考图"},{default:(0,i.w5)((()=>[(0,i.Wm)(il,{"file-list":Ae.modelForm.imgList,"onUpdate:file-list":l[6]||(l[6]=e=>Ae.modelForm.imgList=e),action:Ae.uploadUrl,"list-type":"picture-card",limit:1},{default:(0,i.w5)((()=>[(0,i.Wm)(Ze,null,{default:(0,i.w5)((()=>[(0,i.Wm)(al)])),_:1}),Q])),_:1},8,["file-list","action"])])),_:1}),(0,i.Wm)(Re,{label:"参考指标"}),(0,i._)("div",ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ae.modelForm.growPlantModelDetailBos,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"standard-item",key:l},[(0,i._)("div",le,[ae,(0,i.Wm)(Ke,{class:"input",modelValue:e.parameterName,"onUpdate:modelValue":l=>e.parameterName=l,readonly:0===l,placeholder:"请输入名称"},null,8,["modelValue","onUpdate:modelValue","readonly"])]),(0,i._)("div",ie,[te,(0,i.Wm)(tl,{class:"input-number",modelValue:e.leastValue,"onUpdate:modelValue":l=>e.leastValue=l,min:0,controls:!1,placeholder:"最小值"},null,8,["modelValue","onUpdate:modelValue"]),se,(0,i.Wm)(tl,{class:"input-number",modelValue:e.maxValue,"onUpdate:modelValue":l=>e.maxValue=l,min:0,controls:!1,placeholder:"最大值"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.Wm)(Ke,{class:"input-unit",modelValue:e.unit,"onUpdate:modelValue":l=>e.unit=l,placeholder:"输入单位"},null,8,["modelValue","onUpdate:modelValue"])]),(0,i._)("div",oe,[0===l?((0,i.wg)(),(0,i.j4)(Ze,{key:0,class:"icon",onClick:Ye.addStandard},{default:(0,i.w5)((()=>[(0,i.Wm)(sl)])),_:1},8,["onClick"])):(0,i.kq)("",!0),0!==l?((0,i.wg)(),(0,i.j4)(Ze,{key:1,class:"icon",onClick:e=>Ye.delStandard(l)},{default:(0,i.w5)((()=>[(0,i.Wm)(ol)])),_:2},1032,["onClick"])):(0,i.kq)("",!0)])])))),128))])])),_:1},8,["model"])])])),_:1},8,["modelValue","onClose"]),(0,i.Wm)(dl,{modelValue:Ae.visibleForDelModel,"onUpdate:modelValue":l[9]||(l[9]=e=>Ae.visibleForDelModel=e),title:"删除生长阶段",width:"40%"},{footer:(0,i.w5)((()=>[(0,i._)("span",ge,[(0,i.Wm)(Oe,{onClick:l[8]||(l[8]=e=>Ae.visibleForDelModel=!1)},{default:(0,i.w5)((()=>[we])),_:1}),(0,i.Wm)(Oe,{type:"primary",onClick:e.confirm},{default:(0,i.w5)((()=>[pe])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i._)("div",me,[(0,i._)("div",ne,[(0,i.Wm)(Ze,null,{default:(0,i.w5)((()=>[(0,i.Wm)(rl)])),_:1})]),ce])])),_:1},8,["modelValue"]),(0,i.Wm)(dl,{modelValue:Ae.visibleForSuggestion,"onUpdate:modelValue":l[11]||(l[11]=e=>Ae.visibleForSuggestion=e),title:"添加种植建议",width:"50%"},{footer:(0,i.w5)((()=>[(0,i._)("span",De,[(0,i.Wm)(Oe,null,{default:(0,i.w5)((()=>[ye])),_:1}),(0,i.Wm)(Oe,{type:"primary",onClick:Ye.savePlantSuggestion},{default:(0,i.w5)((()=>[Ue])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i._)("div",he,[(0,i._)("div",ve,[_e,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Ae.standardList,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{class:"card-table-row",key:l},[(0,i._)("div",fe,(0,t.zw)(e.parameterName),1),(0,i._)("div",Ge,[(0,i.Wm)(qe,{class:"select",modelValue:e.status,"onUpdate:modelValue":l=>e.status=l,placeholder:"请选择"},{default:(0,i.w5)((()=>[(0,i.Wm)(je,{class:"low",label:"偏低",value:"0"},{default:(0,i.w5)((()=>[be,Fe])),_:1}),(0,i.Wm)(je,{class:"normal",label:"正常",value:"1"},{default:(0,i.w5)((()=>[ke,We])),_:1}),(0,i.Wm)(je,{class:"high",label:"偏高",value:"2"},{default:(0,i.w5)((()=>[Ce,Ve])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])])))),128))]),(0,i.Wm)(Ee,{model:Ae.suggestionForm,"label-width":"100px","label-position":"top","label-suffix":":"},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{label:"种植建议"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.suggestionForm.suggestion,"onUpdate:modelValue":l[10]||(l[10]=e=>Ae.suggestionForm.suggestion=e),clearable:"",autosize:{minRows:3,maxRows:5},placeholder:"增加光照，降低温度…",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),(0,i.Wm)(dl,{modelValue:Ae.visibleForFarmGuide,"onUpdate:modelValue":l[15]||(l[15]=e=>Ae.visibleForFarmGuide=e),title:"添加种植建议",width:"50%",onClose:Ye.closeFarmGuideDialog},{footer:(0,i.w5)((()=>[(0,i._)("span",xe,[(0,i.Wm)(Oe,{onClick:Ye.closeFarmGuideDialog},{default:(0,i.w5)((()=>[Pe])),_:1},8,["onClick"]),(0,i.Wm)(Oe,{type:"primary",onClick:Ye.saveFarmGuide},{default:(0,i.w5)((()=>[Me])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i._)("div",Le,[(0,i.Wm)(Ee,{model:Ae.farmGuideForm,"label-width":"100px","label-suffix":":"},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{label:"参考视频"},{default:(0,i.w5)((()=>[(0,i.Wm)(il,{"file-list":Ae.farmGuideForm.imgList,"onUpdate:file-list":l[12]||(l[12]=e=>Ae.farmGuideForm.imgList=e),action:Ae.uploadUrl,"list-type":"picture-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ze,null,{default:(0,i.w5)((()=>[(0,i.Wm)(al)])),_:1}),Se])),_:1},8,["file-list","action"])])),_:1}),(0,i.Wm)(Re,{label:"标题"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.farmGuideForm.title,"onUpdate:modelValue":l[13]||(l[13]=e=>Ae.farmGuideForm.title=e),clearable:"",placeholder:"请输入指导标题"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Re,{label:"内容标签"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.farmGuideForm.text,"onUpdate:modelValue":l[14]||(l[14]=e=>Ae.farmGuideForm.text=e),clearable:"",autosize:{minRows:3,maxRows:5},placeholder:"如：#增加光照",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","onClose"]),(0,i.Wm)(dl,{modelValue:Ae.visibleForCureGuide,"onUpdate:modelValue":l[19]||(l[19]=e=>Ae.visibleForCureGuide=e),title:"添加病虫害防治知道",width:"50%",onClose:Ye.closeCureGuideDialog},{footer:(0,i.w5)((()=>[(0,i._)("span",Be,[(0,i.Wm)(Oe,{onClick:Ye.closeCureGuideDialog},{default:(0,i.w5)((()=>[Te])),_:1},8,["onClick"]),(0,i.Wm)(Oe,{type:"primary",onClick:Ye.saveCureGuide},{default:(0,i.w5)((()=>[$e])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i._)("div",Ie,[(0,i.Wm)(Ee,{model:Ae.cureGuideForm,"label-width":"100px","label-suffix":":"},{default:(0,i.w5)((()=>[(0,i.Wm)(Re,{label:"参考视频"},{default:(0,i.w5)((()=>[(0,i.Wm)(il,{"file-list":Ae.cureGuideForm.imgList,"onUpdate:file-list":l[16]||(l[16]=e=>Ae.cureGuideForm.imgList=e),action:Ae.uploadUrl,"list-type":"picture-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ze,null,{default:(0,i.w5)((()=>[(0,i.Wm)(al)])),_:1}),Ne])),_:1},8,["file-list","action"])])),_:1}),(0,i.Wm)(Re,{label:"标题"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.cureGuideForm.title,"onUpdate:modelValue":l[17]||(l[17]=e=>Ae.cureGuideForm.title=e),clearable:"",placeholder:"请输入指导标题"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(Re,{label:"内容标签"},{default:(0,i.w5)((()=>[(0,i.Wm)(Ke,{modelValue:Ae.cureGuideForm.text,"onUpdate:modelValue":l[18]||(l[18]=e=>Ae.cureGuideForm.text=e),clearable:"",autosize:{minRows:3,maxRows:5},placeholder:"如：#增加光照",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue","onClose"])])}var Ae=a(512),Ye={name:"Add",data(){return{uploadUrl:Ae.P_,growthTypeList:[],form:{categoryTitle:"",varietyTitle:"",growthId:""},growthStageList:[],selectedGrowthStageIndex:-1,standardList:[],tableList:[],modelForm:{id:0,phaseName:"",imgList:[],growPlantModelDetailBos:[{parameterName:"种植天数",leastValue:void 0,maxValue:void 0,unit:""}]},visibleForModel:!1,visibleForDelModel:!1,visibleForSuggestion:!1,suggestionForm:{suggestion:""},visibleForFarmGuide:!1,farmGuideForm:{imgList:[],title:"",text:""},farmGuideList:[],selectedFarmGuide:null,visibleForCureGuide:!1,cureGuideForm:{imgList:[],title:"",text:""},cureGuideList:[],selectedCureGuide:null}},computed:{tableData(){let e=[];return-1===this.selectedGrowthStageIndex?[]:(this.tableList[this.selectedGrowthStageIndex]&&this.tableList[this.selectedGrowthStageIndex].growPlantAdviseDetailBos&&(e=this.tableList[this.selectedGrowthStageIndex].growPlantAdviseDetailBos),e)}},mounted(){this.getGrowthTypeList()},methods:{getGrowthTypeList(){const e={};(0,Ae.Ne)(e).then((e=>{e&&e.data&&(this.growthTypeList=e.data)}))},goBack(){this.$router.back()},selectGrowthStage(e){this.selectedGrowthStageIndex=e},openAddGrowthStageDialog(e,l){l&&l.stopPropagation(),e&&(this.modelForm={id:e.id,phaseName:e.phaseName,imgList:[{url:e.image,response:{data:{imageUrl:e.image}}}],growPlantModelDetailBos:e.growPlantModelDetailBos.map((e=>({...e})))}),this.visibleForModel=!0},closeAddGrowthStageDialog(){this.visibleForModel=!1,this.modelForm={id:0,phaseName:"",imgList:[],growPlantModelDetailBos:[{parameterName:"种植天数",leastValue:void 0,maxValue:void 0,unit:""}]}},delGrowthStage(e,l){l.stopPropagation(),this.growthStageList.splice(e,1)},addStandard(){this.modelForm.growPlantModelDetailBos.push({name:"",min:void 0,max:void 0,unit:""})},delStandard(e){this.modelForm.growPlantModelDetailBos.splice(e,1)},saveGrowthStage(){const e={createName:"",growModelId:"",growPlantModelDetailBos:this.modelForm.growPlantModelDetailBos,id:this.modelForm.id,image:"",phaseName:this.modelForm.phaseName};if(this.modelForm.imgList[0]){const l=this.modelForm.imgList[0].response;e.image=l&&l.data&&l.data.imageUrl}return(0,Ae.lb)(e).then((e=>{e&&"200"===e.code?(this.$message.success("保存成功"),this.growthStageList.push(e.data),this.closeAddGrowthStageDialog()):this.$message.error(e.message||"保存失败")}))},getStandardList(){if(-1===this.selectedGrowthStageIndex)return;const e={id:this.growthStageList[this.selectedGrowthStageIndex].id};return(0,Ae.nX)(e).then((e=>{e&&e.data?this.standardList=e.data:this.$message.error(e.message||"获取参数列表失败")}))},openPlantSuggestion(e){-1!==this.selectedGrowthStageIndex?(this.standardList=this.growthStageList[this.selectedGrowthStageIndex].growPlantModelDetailBos,this.getStandardList().then((()=>{e&&console.log(e),this.visibleForSuggestion=!0}))):this.$message.warning("请选择生长阶段")},closePlantSuggestion(){this.visibleForSuggestion=!1,this.standardList=[],this.suggestionForm={suggestion:""}},delPlantSuggestion(e){console.log(e)},savePlantSuggestion(){const e={createName:"",growModelId:"",growPlantAdviseDetailBos:this.standardList,id:this.suggestionForm.id,text:this.suggestionForm.suggestion};return(0,Ae.oY)(e).then((e=>{e&&"200"===e.code?(this.$message.success("保存成功"),this.tableList.push(e.data)):this.$message.error(e.message||"保存失败")}))},openFarmGuideDialog(e){this.selectedFarmGuide=e,this.visibleForFarmGuide=!0},closeFarmGuideDialog(){this.visibleForFarmGuide=!1,this.selectedFarmGuide=null},delFarmGuide(e){this.farmGuideList.splice(e,1)},saveFarmGuide(){const e={growModelId:"",id:0,text:this.farmGuideForm.text,title:this.farmGuideForm.title,video:""};if(this.farmGuideForm.imgList[0]){const l=this.farmGuideForm.imgList[0].response;e.video=l&&l.data&&l.data.imageUrl}return(0,Ae._h)(e).then((e=>{e&&"200"===e.code?(this.$message.success("保存成功"),this.farmGuideList.push({...this.farmGuideForm}),this.closeFarmGuideDialog()):this.$message.error(e.message||"保存失败")}))},openCureGuideDialog(e){this.selectedCureGuide=e,this.visibleForCureGuide=!0},closeCureGuideDialog(){this.visibleForCureGuide=!1,this.selectedCureGuide=null},saveCureGuide(){const e={growModelId:"",id:0,text:this.cureGuideForm.text,title:this.cureGuideForm.title,video:""};if(this.cureGuideForm.imgList[0]){const l=this.cureGuideForm.imgList[0].response;e.video=l&&l.data&&l.data.imageUrl}return(0,Ae.q4)(e).then((e=>{e&&"200"===e.code?(this.$message.success("保存成功"),this.cureGuideList.push({...this.cureGuideForm}),this.closeCureGuideDialog()):this.$message.error(e.message||"保存失败")}))},delCureGuide(e){this.cureGuideList.splice(e,1)},savePlantMode(){const e={categoryTitle:this.form.categoryTitle,growAdviseIds:"",growModelIds:"",growOperationGuideIds:"",growPreventionGuideIds:"",growthId:this.form.growthId,growthName:"",id:0,varietyTitle:this.form.varietyTitle};return(0,Ae.lF)(e).then((e=>{e&&"200"===e.code?(this.$message.success("保存成功"),this.$router.back()):this.$message.error(e.message||"保存失败")}))}}},He=a(3744);const Ke=(0,He.Z)(Ye,[["render",ze]]);var Re=Ke}}]);
//# sourceMappingURL=164.b68641f3.js.map